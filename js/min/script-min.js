function fixedHeader(){$(window).width()>1040&&(myScroll>100?header.addClass("on"):header.removeClass("on"))}function apparitionFooter(){isMobile.any||($(".navFooter").isOnScreen()?TweenMax.set($(".rsFooter"),{visibility:"visible"}):TweenMax.set($(".rsFooter"),{visibility:"hidden"}))}function scrollPage(){myScroll=$(document).scrollTop(),fixedHeader(),apparitionFooter(),body.hasClass("home")&&(isMobile.any||myScroll<$(".headHome").height()&&TweenMax.set($("#bgHeadHome"),{y:-(myScroll/1.5)+"px"})),requestAnimFrame(scrollPage)}function setSubMenu(){var e=$(".subMenu");if($(window).width()>1040){$(".hasSubMenu").on("mouseover",function(){$(this).addClass("actifHover")}).on("mouseout",function(){$(this).removeClass("actifHover")});var o=e.length,t=0,n,i,a,s,r,l,c,d,m,u;for(t;o>t;t++){for(i=e.eq(t).find("li"),a=i.length,n=0,r=0,n;a>n;n++)r+=i.eq(n).outerWidth();l=r/2,c=e.eq(t).parents(".hasSubMenu"),d=c.outerWidth()/2,m=c.offset().left,u=d+m-l,e.eq(t).css("padding-left",u+"px")}}else $(".subMenu").css("padding-left",0)}function hoverMenu(){$(".menu").find("li").on("mouseover",function(){TweenMax.to($("#triangle-top-header"),.2,{css:{y:"-60px",force3D:!0}})}).on("mouseout",function(){TweenMax.to($("#triangle-top-header"),.2,{css:{y:"0px",force3D:!0}})})}function responsiveMenu(){$(this).hasClass("actif")||$(this).css({opacity:0}).delay(10).animate({opacity:1},100),$(this).toggleClass("actif"),header.toggleClass("menuVisible")}function setSliderTeam(e){function o(){var e=$(this).parents("li").index();t.eq(e).hasClass("on")||($(this).addClass("actif").parents("li").siblings().find("button").removeClass("actif"),t.eq(e).siblings().stop().animate({opacity:0,marginBottom:"-50px"},400,function(){t.eq(e).siblings().removeClass("on"),t.eq(e).addClass("on").stop().animate({opacity:1,marginBottom:0},400)}))}var t=e.find(".slideTeam"),n=t.length,i=0,a=$(".navTeam"),s="<li><button>â€¢</button></li>",r=$(".slidesTeam"),l=r.length,c=0,d;for(c;l>c;c++)r.eq(c).hasClass("on")||r.eq(c).css({opacity:0,bottom:"-165px"});if(a.html(""),n>1)for(i;n>i;i++)a.append(s),t.eq(i).hasClass("on")?d=i:t.eq(i).css({opacity:0,marginBottom:"-50px"});a.find("button").eq(d).addClass("actif"),a.find("button").on("click",o)}function setSliderTeamProfil(){var e=$(this).parents("li").index(),o=$(".slidesTeam"),t=o.eq(e),n=$(".contactFooter");$(this).addClass("actif").parents("li").siblings().find("button").removeClass(),t.hasClass("on")||t.siblings(".slidesTeam").stop().animate({opacity:0,bottom:"-165px"},400,function(){t.siblings(".slidesTeam").removeClass("on"),t.addClass("on").stop().animate({opacity:1,bottom:"-115px"},400),0===e?n.addClass("bleu").removeClass("rose").removeClass("rouge").removeClass("vert"):1===e?n.addClass("rouge").removeClass("rose").removeClass("bleu").removeClass("vert"):2===e?n.addClass("vert").removeClass("rose").removeClass("rouge").removeClass("bleu"):3===e&&n.addClass("rose").removeClass("bleu").removeClass("rouge").removeClass("vert"),setSliderTeam(t)})}function goToNextSection(){htmlBody.animate({scrollTop:$(this).parents("section").next("section").offset().top-100},400)}function onYouTubeIframeAPIReady(){player1=new YT.Player("player-1")}function videoCover(){function e(){isMobile.phone||player1.playVideo()}var o=new TimelineMax({onComplete:e});return o.to($(".zone-txt-cover-video"),.2,{y:"100px",opacity:"0",ease:Cubic.easeInOut}).to($(".bg-cover-video"),.5,{rotationZ:1,rotation:"-45deg",y:"-100%",transformOrigin:"left bottom",ease:Cubic.easeInOut}).set($(".cover-video"),{display:"none"}),!1}function heightBgHeadHome(){TweenMax.set($("#bgHeadHome"),{height:$(".headHome").height()+"px"})}function scrollMagic(){if($(window).width()>767)var e=new ScrollMagic,o=TweenMax.to($("#triangle-top-header"),1.2,{css:{y:"0px",rotation:"0deg",force3D:!0}}),t=TweenMax.to($("#triangle-header-vert"),1.2,{css:{rotation:"7deg",force3D:!0}}),n=TweenMax.to($("#triangle-header-blanc"),1.2,{css:{rotation:"-3deg",force3D:!0}}),i=TweenMax.to([$("#triangle-footer-top-bleu-fonce"),$("#triangle-footer-bottom-bleu-clair")],1.2,{css:{rotation:"-3deg",force3D:!0}}),a=TweenMax.to($("#triangle-footer-top-bleu-clair"),1.2,{css:{rotation:"3deg",force3D:!0}}),s=TweenMax.to($("#triangle-footer-bottom-blanc"),1.2,{css:{rotation:"-3deg",force3D:!0}}),r=TweenMax.to($(".triangle-menu-footer"),1.2,{css:{rotation:"-3deg",y:"0px",opacity:"1",force3D:!0}}),l=TweenMax.to($(".scrollNext1"),1.2,{rotation:"-3deg",force3D:!0,lazy:!0}),c=TweenMax.to($(".scrollNext2"),1.2,{rotation:"-3deg",force3D:!0,lazy:!0}),d=TweenMax.to($(".scrollNext3"),1.2,{rotation:"-3deg",force3D:!0,lazy:!0}),m=TweenMax.to($(".barre-footer"),1.2,{rotation:"-3deg",force3D:!0,lazy:!0}),u=new ScrollScene({triggerElement:".headHome",duration:$(".headHome").outerHeight()/3,offset:500}).setTween(t).addTo(e),u=new ScrollScene({triggerElement:".headHome",duration:$(".headHome").outerHeight()/3,offset:500}).setTween(n).addTo(e),f=new ScrollScene({triggerElement:".contactFooter",duration:$(".contactFooter").outerHeight(),offset:-300}).setTween(i).addTo(e),g=new ScrollScene({triggerElement:".contactFooter",duration:$(".contactFooter").outerHeight(),offset:-400}).setTween(a).addTo(e),h=new ScrollScene({triggerElement:"#container3",duration:$("#container3").outerHeight(),offset:-$(".rsFooter").outerHeight()}).setTween(s).addTo(e),p=new ScrollScene({triggerElement:".menuFooter",duration:$(".menuFooter").outerHeight(),offset:-300}).setTween(r).addTo(e),w=new ScrollScene({triggerElement:".scrollNext1",duration:200,offset:-300}).setTween(l).addTo(e),b=new ScrollScene({triggerElement:".scrollNext2",duration:200,offset:-300}).setTween(c).addTo(e),T=new ScrollScene({triggerElement:".scrollNext3",duration:200,offset:-300}).setTween(d).addTo(e),v=new ScrollScene({triggerElement:".navFooter",duration:$(".rsFooter").height(),offset:-50}).setTween(m).addTo(e)}var myScroll,header=$("header"),htmlBody=$("html, body"),body=$("body"),burger=$("#burger");window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$.fn.isOnScreen=function(){var e=$(window),o={top:e.scrollTop(),left:e.scrollLeft()};o.right=o.left+e.width(),o.bottom=o.top+e.height();var t=this.offset();return t.right=t.left+this.outerWidth(),t.bottom=t.top+this.outerHeight(),!(o.right<t.left||o.left>t.right||o.bottom<t.top||o.top>t.bottom)};var tag=document.createElement("script");tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var player1;$(function(){scrollPage(),setSubMenu(),hoverMenu(),isMobile.any||$("html").addClass("no-mobile"),body.hasClass("home")&&(isMobile.any||TweenMax.set($("#bgHeadHome"),{position:"fixed"}),TweenMax.set($("#bgHeadHome"),{height:$(".headHome").height()+"px"})),burger.on("click",responsiveMenu),$("#triangleMenu").on("click",function(){burger.removeClass("actif"),header.removeClass("menuVisible")}),$("#demandeContact").on("click",function(){$(this).animate({opacity:0},200,function(){$(this).css("display","none"),$("#contact, #bulle").addClass("visible")})}),$(".buttonsTeam").find("button").on("click",setSliderTeamProfil),$(".scrollNext").on("click",goToNextSection),$("#btn-video").on("click",videoCover),$(window).load(function(){scrollMagic(),$("#sliderRef").length&&$("#sliderRef").contentcarousel({sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1}),$("#sliderTeam").length&&setSliderTeam($(".slidesTeam").eq(0))}),$(document).scroll(function(){}),$(window).resize(function(){fixedHeader(),setSubMenu(),body.hasClass("home")&&heightBgHeadHome()})});