function shuffle(e){var t=e.map(Math.random);e.sort(function(e,o){return t[e]-t[o]})}function onYouTubeIframeAPIReady(){player1=new YT.Player("player-1")}function fixedHeader(){$(window).width()>1040&&!isMobile.any&&(myScroll>100?header.addClass("on"):header.removeClass("on"))}function apparitionFooter(){isMobile.any||($(".navFooter").isOnScreen()?TweenMax.set($(".rsFooter"),{visibility:"visible"}):TweenMax.set($(".rsFooter"),{visibility:"hidden"}))}function scrollPage(){myScroll=$(document).scrollTop(),fixedHeader(),apparitionFooter(),body.hasClass("home")&&!htmlTag.hasClass("lt-ie10")&&!isMobile.any&&myScroll<$(".headHome").height()&&TweenMax.set(bgHeadHome,{y:-(myScroll/1.5)+"px"}),requestAnimFrame(scrollPage)}function setSubMenu(){var e=$(".menu").find(".sub-menu"),t=$(".hasSubMenu");if($(window).width()>1040){if(t.on("mouseover",function(){$(this).addClass("actifHover")}).on("mouseout",function(){$(this).removeClass("actifHover")}),!htmlTag.hasClass("lt-ie9")){var o=e.length,i=0,n,s,a,r,l,d,c,m,u,h;for(i;o>i;i++){for(s=e.eq(i).find("li"),a=s.length,n=0,l=0,n;a>n;n++)l+=s.eq(n).outerWidth();d=l/2,c=e.eq(i).parents(".hasSubMenu"),m=c.outerWidth()/2,u=c.offset().left,h=m+u-d,l+h>=$(window).width()?e.eq(i).css({"padding-left":0,"text-align":"center"}):e.eq(i).css("padding-left",h+"px")}}}else t.unbind(),htmlTag.hasClass("lt-ie9")||e.css("padding-left",0)}function langSelector(){var e=$(".lang"),t=e.find(".actif");e.prepend(t).find(".actif").eq(1).remove()}function responsiveMenu(){var e=$(window).height()-header.height(),t=$("#container");setPosBtnMenu(),burger.hasClass("actif")?t.css({height:"auto",overflow:"visible"}):(burger.css({opacity:0}).delay(10).animate({opacity:1},100),t.height(e>minHeight?e:minHeight),t.css("overflow","hidden")),burger.toggleClass("actif"),header.toggleClass("menuVisible")}function setPosBtnMenu(){var e=$(".bottomHeader").find(".btnFull"),t=$(".topHeader").find("p");$(window).width()<1040?(e.css("top",minHeight),t.css("top",minHeight+80)):(e.css("top",0),t.css("top",0))}function setSliderTeam(e){function t(){var e=$(this).parents("li").index();o.eq(e).hasClass("on")||($(this).addClass("actif").parents("li").siblings().find("button").removeClass("actif"),o.eq(e).siblings().stop().animate({opacity:0,marginBottom:"-25px"},400,function(){o.eq(e).siblings().removeClass("on"),o.eq(e).addClass("on").stop().animate({opacity:1,marginBottom:0},400)}))}var o=e.find(".slideTeam"),i=o.length,n=0,s=$(".navTeam"),a="<li><button>â€¢</button></li>",r=$(".slidesTeam"),l=r.length,d=0,c;for(d;l>d;d++)r.eq(d).hasClass("on")||r.eq(d).css({opacity:0,bottom:"-140px"});if(s.html(""),i>1)for(n;i>n;n++)s.append(a),o.eq(n).hasClass("on")?c=n:o.eq(n).css({opacity:0,marginBottom:"-25px"});s.find("button").eq(c).addClass("actif"),s.find("button").on("click",t)}function setSliderTeamProfil(e){var t=e.parents("li").index(),o=$(".slidesTeam"),i=o.eq(t),n=$(".contactFooter");e.addClass("actif").parents("li").siblings().find("button").removeClass(),i.hasClass("on")||i.siblings(".slidesTeam").stop().animate({opacity:0,bottom:"-140px"},400,function(){i.siblings(".slidesTeam").removeClass("on"),i.addClass("on").stop().animate({opacity:1,bottom:"-115px"},400),0===t?(TweenLite.set($("#drag"),{x:0}),n.addClass("bleu").removeClass("rose").removeClass("rouge").removeClass("vert")):1===t?(TweenLite.set($("#drag"),{x:130}),n.addClass("rouge").removeClass("rose").removeClass("bleu").removeClass("vert")):2===t?(TweenLite.set($("#drag"),{x:235}),n.addClass("vert").removeClass("rose").removeClass("rouge").removeClass("bleu")):3===t&&(TweenLite.set($("#drag"),{x:334}),n.addClass("rose").removeClass("bleu").removeClass("rouge").removeClass("vert")),setSliderTeam(i)}),$("#profil").find("option[value="+e.attr("name")+"]").prop("selected",!0);var s="Autre"==e.html()?"Organisation":e.html();$("#labelEnt").html(s+" *")}function setDraggableButton(){var e=$(".buttonsTeam").find("button");btnContact.before("<div id='dragIn'><div id='drag'></div></div>"),Draggable.create("#drag",{type:"x",bounds:$("#dragIn"),cursor:"pointer",throwProps:!0,snap:[0,130,235,334],throwResistance:5e3,maxDuration:3,onThrowComplete:function(){var t;0==this.x&&(t=e.eq(0)),130==this.x&&(t=e.eq(1)),235==this.x&&(t=e.eq(2)),334==this.x&&(t=e.eq(3)),setSliderTeamProfil(t)}})}function openForm(){btnContact.length?(btnContact.animate({opacity:0},200,function(){btnContact.css("display","none"),$("#contact, #bulle").addClass("visible"),setTimeout(function(){htmlBody.animate({scrollTop:$("#contact").offset().top-250},400,"easeInOutCubic")},300),$("#nom").focus()}),htmlTag.hasClass("lt-ie9")&&$("#sliderTeam").height("500px")):setTimeout(function(){htmlBody.animate({scrollTop:$(".formContact").offset().top-200},500,"easeInOutCubic")},300)}function scrollMagic(){if($(window).width()>767)var e=new ScrollMagic,t=TweenMax.to($("#triangle-top-header"),1.2,{css:{y:"0px",rotation:"0deg",force3D:!0}}),o=TweenMax.to($(".triangle-menu-footer"),1.2,{css:{rotation:"-3deg",y:"0px",opacity:"1",force3D:!0}}),i=new ScrollScene({triggerElement:".menuFooter",duration:$(".menuFooter").outerHeight(),offset:-300}).setTween(o).addTo(e)}function goToNextSection(){htmlBody.animate({scrollTop:$(this).parents("section").next("section").offset().top-100},400)}function heightBgHeadHome(){TweenMax.set(bgHeadHome,{height:$(".headHome").height()+"px"})}function videoCover(){function e(){isMobile.phone||player1.playVideo()}var t=new TimelineMax({onComplete:e});return t.to($(".zone-txt-cover-video"),.2,{y:"100px",opacity:"0",ease:Cubic.easeInOut}).to($(".bg-cover-video"),.5,{rotationZ:1,rotation:"-45deg",y:"-100%",transformOrigin:"left bottom",ease:Cubic.easeInOut}).set($(".cover-video"),{display:"none"}),!1}function randomLogosPress(){var e=$(".logosPresse").find("li"),t=e.length,o=0,i,n=4,s=0,a=[];if(t>n){for(e.css("display","none"),s;t>s;s++)a[s]=s;for(shuffle(a),o;n>o;o++)e.eq(a[o]).css("display","inline-block")}}var myScroll,header=$("header"),htmlTag=$("html"),htmlBody=$("html, body"),body=$("body"),burger=$("#burger"),bgHeadHome=$("#bgHeadHome"),btnContact=$("#demandeContact"),minHeight=$(".menu").innerHeight()-10;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$.fn.isOnScreen=function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()},o=this.offset();return t.right=t.left+e.width(),t.bottom=t.top+e.height(),o.right=o.left+this.outerWidth(),o.bottom=o.top+this.outerHeight(),!(t.right<o.left||t.left>o.right||t.bottom<o.top||t.top>o.bottom)};var tag=document.createElement("script"),player1;tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$(function(){isMobile.any||htmlTag.addClass("no-mobile"),"fr-FR"!=!htmlTag.attr("lang")&&langSelector(),scrollPage(),setSubMenu(),burger.on("click",responsiveMenu),$("#triangleMenu").on("click",function(){burger.removeClass("actif"),header.removeClass("menuVisible"),$("#container").css({height:"auto",overflow:"visible"})}),$(window).width()>450&&!htmlTag.hasClass("lt-ie9")&&$(".buttonsTeam").length&&setDraggableButton(),$(".buttonsTeam").find("button").on("click",function(){setSliderTeamProfil($(this))}),btnContact.on("click",openForm),$(".formContact").hasClass("open")&&openForm(),$("#profil").change(function(){$("#labelEnt").html($(this).val()+" *")}),$(".scrollNext").on("click",goToNextSection),$("#btn-video").on("click",videoCover),$(window).load(function(){scrollMagic(),apparitionFooter(),body.hasClass("home")&&(htmlTag.hasClass("lt-ie10")||isMobile.any||TweenMax.set(bgHeadHome,{position:"fixed"}),heightBgHeadHome(),randomLogosPress()),$("#sliderTeam").length&&setSliderTeam($(".slidesTeam").eq(0)),$("#sliderRef").length&&$("#sliderRef").contentcarousel({sliderSpeed:500,sliderEasing:"easeOutExpo",itemSpeed:500,itemEasing:"easeOutExpo",scroll:1})}),$(window).resize(function(){fixedHeader(),setSubMenu(),setPosBtnMenu(),body.hasClass("home")&&heightBgHeadHome(),header.hasClass("menuVisible")&&$(window).width()>1040&&responsiveMenu()})});