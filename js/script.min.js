function shuffle(e){for(var t=e.length,i,n;t>1;)n=Math.floor(Math.random()*t--),n!=t&&(i=e[t],e[t]=e[n],e[n]=i);return e}function isValidEmail(e){var t=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return t.test(e)}function isValidTel(e){var t=new RegExp(/^\+?[^.\-][0-9\.\- ]+$/);return t.test(e)}function onYouTubeIframeAPIReady(){player1=new YT.Player("player-1")}function fixedHeader(){$(window).width()>1040&&!isMobile.any&&(myScroll>100?header.addClass("on"):header.removeClass("on"))}function appearSubMenu(){var e=$(".menu").find(".current_page_parent");e.length&&($(window).width()>1040?myScroll>100?e.removeClass("openSubMenu"):e.addClass("openSubMenu"):e.removeClass("openSubMenu")),requestAnimFrame(appearSubMenu)}function apparitionFooter(){isMobile.any||($(".navFooter").length&&($(".navFooter").isOnScreen()?TweenMax.set($(".rsFooter"),{visibility:"visible"}):TweenMax.set($(".rsFooter"),{visibility:"hidden"})),body.hasClass("success")&&body.hasClass("home")&&($(".head").isOnScreen()?TweenMax.set($(".rsFooter"),{visibility:"hidden"}):TweenMax.set($(".rsFooter"),{visibility:"visible"})))}function scrollPage(){var e=$(".head");if(myScroll=$(document).scrollTop(),body.hasClass("landing")||(body.hasClass("blog")||body.hasClass("success")||fixedHeader(),apparitionFooter()),!htmlTag.hasClass("lt-ie10")&&!isMobile.any&&myScroll<e.height()&&$(window).width()>767&&!body.hasClass("blog")&&!e.hasClass("none")&&(TweenMax.set(bgHead,{y:-(myScroll/1.5)+"px"}),body.hasClass("success")||TweenMax.set(e.find(".content"),{y:+(myScroll/2.5)+"px"})),scrollTop.length&&(myScroll>1e3?scrollTop.addClass("on"):scrollTop.removeClass("on")),$("#slider-anim-visez-juste").length&&appartitionAnimsSliders(),body.hasClass("blog")){if(!isMobile.any&&$(".blogWisembly").length){var t=$(".blogWisembly");$(".sidebar").innerHeight()<$(".blogMain").innerHeight()&&t.outerHeight(!0)+50<$(window).height()&&(myScroll>=blogWisemblyTop&&myScroll<=$("footer").offset().top-t.height()-130?t.addClass("fixed"):t.removeClass("fixed"))}$(window).width()>1040&&(myScroll>100?$("#popupBlog").addClass("scrolled"):$("#popupBlog").removeClass("scrolled"))}requestAnimFrame(scrollPage)}function setActiveMenu(){var e=$("#menu-menu-principal"),t=e.find("> li.current-menu-item"),i=e.find(".current_page_parent");t.length?t.siblings().find("a").addClass("notActive"):i.length?i.siblings().find("a").addClass("notActive"):e.find("a").removeClass("notActive")}function setSubMenu(){var e=$(".hasSubMenu");$(window).width()>1040?e.on("mouseover",function(){$(this).addClass("actifHover")}).on("mouseout",function(){$(this).removeClass("actifHover")}):e.unbind()}function centerSubMenu(){if(!htmlTag.hasClass("lt-ie9"))if($(window).width()>1040){var e=subMenus.length,t=0,i,n,s,a,o,l,r,d,c;for(t;e>t;t++){for(n=subMenus.eq(t).find("li"),s=n.length,i=0,a=0,i;s>i;i++)a+=n.eq(i).outerWidth();o=a/2,l=subMenus.eq(t).parents(".hasSubMenu"),r=l.outerWidth()/2,d=l.offset().left,c=r+d-o,a+c>=$(window).width()?subMenus.eq(t).css("paddingLeft",0):subMenus.eq(t).css({paddingLeft:c+"px","text-align":"left"})}}else subMenus.css("paddingLeft",0);appearSubMenu()}function langSelector(){var e=$(".lang"),t=e.find(".actif");e.prepend(t).find(".actif").eq(1).remove()}function setPosBtnMenu(){var e=$("#contact-topbar"),t=$(".topHeader").find("p");e.length&&t.length&&($(window).width()<1040?(e.css("top",minHeight),t.css("top",minHeight+80)):(e.css("top",0),t.css("top",0)))}function responsiveMenu(){var e=$(window).height()-header.height(),t=$("#container");setPosBtnMenu(),burger.hasClass("actif")?t.css({height:"auto",overflow:"visible"}):(burger.css({opacity:0}).delay(10).animate({opacity:1},100),e>minHeight?t.height(e):htmlTag.hasClass("home")?t.height(minHeight):t.height(minHeight+100),t.css("overflow","hidden")),burger.toggleClass("actif"),header.toggleClass("menuVisible")}function setSliderTeam(e){function t(){var e=$(this).parents("li").index();i.eq(e).hasClass("on")||($(this).addClass("actif").parents("li").siblings().find("button").removeClass("actif"),i.eq(e).siblings().stop().animate({opacity:0,marginBottom:"-25px"},400,function(){i.eq(e).addClass("on").stop().animate({opacity:1,marginBottom:0},400).siblings().removeClass("on")})),$("#nomContact").attr("value",i.eq(e).find("strong").html())}var i=e.find(".slideTeam"),n=i.length,s=0,a=$(".navTeam"),o="<li><button>â€¢</button></li>",l=$(".slidesTeam"),r=l.length,d=0,c,h=Math.floor(Math.random()*n);for(d;r>d;d++)l.eq(d).hasClass("on")||l.eq(d).css({opacity:0,bottom:"-140px"});if(i.removeClass("on").eq(h).addClass("on").stop().animate({opacity:1,marginBottom:0},400),a.html(""),n>1)for(s;n>s;s++)a.append(o),i.eq(s).hasClass("on")?c=s:i.eq(s).css({opacity:0,marginBottom:"-25px"});$("#nomContact").attr("value",i.eq(h).find("strong").html()),a.find("button").eq(c).addClass("actif"),a.find("button").on("click",t)}function setSliderTeamProfil(e){var t=e.parents("li").index(),i=$(".slidesTeam"),n=i.eq(t),s=$(".contactFooter"),a=130,o=235,l=334;body.hasClass("en")&&(a=121,o=233,l=337),e.addClass("actif").parents("li").siblings().find("button").removeClass(),n.hasClass("on")||(n.siblings(".slidesTeam").stop().animate({opacity:0,bottom:"-140px"},400,function(){switch(n.addClass("on").stop().animate({opacity:1,bottom:"-115px"},400).siblings(".slidesTeam").removeClass("on"),t){case 0:TweenLite.set($("#drag"),{x:0}),s.addClass("bleu").removeClass("rose rouge vert");break;case 1:TweenLite.set($("#drag"),{x:a}),s.addClass("rouge").removeClass("rose bleu vert");break;case 2:TweenLite.set($("#drag"),{x:o}),s.addClass("vert").removeClass("rose rouge bleu");break;case 3:TweenLite.set($("#drag"),{x:l}),s.addClass("rose").removeClass("bleu rouge vert")}}),setSliderTeam(n)),$(".select option").removeAttr("selected"),$(".select option[value="+e.attr("name")+"]").attr("selected","selected"),$("#labelEnt").html($(".select").val()+" *"),$("#nomContact").attr("value",n.find(".slideTeam.on").find("strong").html())}function setDraggableButton(){var e=$(".buttonsTeam").find("button"),t=130,i=235,n=334;body.hasClass("en")&&(t=121,i=233,n=337),btnContact.before("<div id='dragIn'><div id='drag'></div></div>"),Draggable.create("#drag",{type:"x",bounds:$("#dragIn"),cursor:"pointer",throwProps:!0,snap:[0,t,i,n],throwResistance:5e3,maxDuration:3,onThrowComplete:function(){var s;switch(this.x){case 0:s=e.eq(0);break;case t:s=e.eq(1);break;case i:s=e.eq(2);break;case n:s=e.eq(3)}setSliderTeamProfil(s)}})}function openForm(){btnContact.length?btnContact.animate({opacity:0},200,function(){btnContact.css("display","none"),$("#formContact, #bulle").addClass("visible"),setTimeout(function(){htmlBody.animate({scrollTop:$("#formContact").offset().top-250},400,"easeInOutCubic")},300),$("#prenom").focus()}):setTimeout(function(){htmlBody.animate({scrollTop:$(".formContact").offset().top-200},500,"easeInOutCubic")},300)}function scrollMagic(){if($(window).width()>767){var e=new ScrollMagic,t,i,n;$("#triangle-top-header").length&&(t=TweenMax.to($("#triangle-top-header"),1.2,{css:{y:"0px",rotation:"0deg",force3D:!0}})),$(".triangle-menu-footer").length&&(i=TweenMax.to($(".triangle-menu-footer"),1.2,{css:{rotation:"-3deg",y:"0px",opacity:"1",force3D:!0}}),n=new ScrollScene({triggerElement:".menuFooter",duration:$(".menuFooter").outerHeight(),offset:-300}).setTween(i).addTo(e))}}function goToNextSection(){htmlBody.animate({scrollTop:$(this).parents(".scrollHere").next().offset().top-100},400)}function heightBgHead(e){var t=$(".head"),i=e?e:0;t.hasClass("none")||($(window).width()>767?(htmlTag.hasClass("lt-ie9")||isMobile.any||TweenMax.set(bgHead,{position:"fixed"}),e||(i=Math.ceil(t.height()),i=$(window).width()<1041&&body.hasClass("success")?i+90:i-1),TweenMax.set(bgHead,{height:i+"px"})):TweenMax.set(bgHead,{position:"absolute"}))}function videoCover(){function e(){isMobile.phone||player1.playVideo()}var t=new TimelineMax({onComplete:e});return t.to($(".zone-txt-cover-video"),.2,{y:"100px",opacity:"0",ease:Cubic.easeInOut}).to($(".bg-cover-video"),.5,{rotationZ:1,rotation:"-45deg",y:"-100%",transformOrigin:"left bottom",ease:Cubic.easeInOut}).set($(".cover-video"),{display:"none"}),!1}function randomLogosPress(){var e=$(".logosPresse").find("img"),t=e.length,i=0,n=4,s=0,a=[];if(t>n){for(s;t>s;s++)a[s]=s;for(shuffle(a),e.addClass("none"),i;n>i;i++)e.eq(a[i]).removeClass("none")}}function goToContent(){setTimeout(function(){htmlBody.animate({scrollTop:$(".wrapper").offset().top-100},400)},400)}function setMapSize(){$("#map").height($(window).height()-header.height())}function setToolTip(e){var t=e.find(".lien"),i=t.length,n=0,s=[],a;if(""!==t.attr("title")){for(n;i>n;n++)s[n]=t.eq(n).attr("title"),t.eq(n).removeAttr("title").append("<span class='tooltip' class='none'>"+s[n]+"</span>");t.on("mouseenter",function(){$(this).find(".tooltip").delay(300).removeClass("none")}).on("mouseleave",function(){setTimeout(function(){$(this).find(".tooltip").addClass("none")},300)}),t.on("mousemove",function(e){a=$(this).offset(),$(this).find(".tooltip").css({top:e.pageY-a.top+20,left:e.pageX-a.left-20})})}}function setSliderHeight(e){function t(e){var t=e.find("ul").eq(0).find("li"),i=t.length,n=0,s=0;for(n;i>n;n++)t.eq(n).height()>s&&(s=t.eq(n).height());e.find("ul").eq(0).css("height",s+"px")}var i=0,n=e.length;for(i;n>i;i++)t(e.eq(i))}function initAnnonces(){TweenMax.set($(".whr-item"),{display:"block"})}function positionDiapos(){var e=$("#slider-diapos"),t=e.find("li");t.each(function(e){var t=$(this).find("img").width()+10;if($(this).hasClass("half"))if(0!==precWidth){var i=t;precWidth>=i?(TweenMax.set($(this),{top:"50%",left:avancementLeft+avancementLeftBottom+"px"}),precWidth-=i,hasDemiBefore=!0,avancementLeftBottom+=t):(avancementLeft+=avancementLeftFuture,TweenMax.set($(this),{top:0,left:avancementLeft+"px"}),avancementLeftFuture=t,hasDemiBefore=!1,avancementLeftBottom=0)}else avancementLeft+=avancementLeftFuture,TweenMax.set($(this),{top:0,left:avancementLeft+"px"}),precWidth=t,avancementLeftFuture=t,hasDemiBefore=!1,avancementLeftBottom=0;else avancementLeft+=avancementLeftFuture,avancementLeftFuture=0,TweenMax.set($(this),{top:0,left:avancementLeft+"px"}),avancementLeft+=t,hasDemiBefore=!1,avancementLeftBottom=0,precWidth=0,hasDemiBefore=!1}),TweenMax.set(e,{width:avancementLeft+avancementLeftFuture+"px"}),Draggable.create("#slider-diapos",{type:"x",edgeResistance:.65,bounds:"#container-slider-diapos",throwProps:!0}),"hidden"==e.css("visibility")&&e.css("visibility","visible")}function setSizeMission(){TweenMax.set($("#slider-txt-mission"),{width:$("#slider-visu-mission").find("li").length*$("#wrapper-slider-visu-mission").width()+"px"}),TweenMax.set($("#slider-txt-mission").find("li"),{width:$("#wrapper-slider-visu-mission").width()+"px"}),TweenMax.set($("#slider-visu-mission"),{width:$("#slider-visu-mission").find("li").length*unit+bigUnitDelta+"px"})}function posSlideMission(){setSizeMission();var e=$("#slider-visu-mission li.active").index()-2;TweenMax.set($("#slider-visu-mission"),{left:"50%",marginLeft:-e*unit-(total*unit+bigUnitDelta)/2+"px",ease:Linear.easeIn}),TweenMax.set($("#slider-txt-mission"),{marginLeft:-(e+2)*$("#wrapper-slider-visu-mission").width()+"px",ease:Linear.easeIn})}function purgeMission(){$("#slider-visu-mission li").length>10&&($("#slider-visu-mission").find("li.active").index()>5&&($("#slider-visu-mission").find("li").first().remove(),$("#slider-txt-mission").find("li").first().remove(),$("#slider-visu-mission").find("li").first().remove(),$("#slider-txt-mission").find("li").first().remove()),$("#slider-visu-mission").find("li.active").index()<$("#slider-visu-mission li").length-5&&($("#slider-visu-mission").find("li").last().remove(),$("#slider-txt-mission").find("li").last().remove(),$("#slider-visu-mission").find("li").last().remove(),$("#slider-txt-mission").find("li").last().remove())),posSlideMission()}function makeActive(e){TweenMax.to($("#slider-visu-mission").find("a"),spee,{width:unitNaked+"px",height:unitNaked+"px",ease:Linear.easeIn}),TweenMax.to($("#slider-visu-mission").find("li"),spee,{width:unitNaked+"px",ease:Linear.easeIn}),$("#slider-visu-mission").find("li").removeClass("active"),TweenMax.to($("#slider-visu-mission").find("li").eq(e).find("a"),spee,{width:bigUnit+"px",height:bigUnit+"px",ease:Linear.easeIn}),TweenMax.to($("#slider-visu-mission").find("li").eq(e),spee,{width:bigUnit+"px",ease:Linear.easeIn,onComplete:purgeMission}),$("#slider-visu-mission").find("li").eq(e).addClass("active")}function slideMission(e){TweenMax.to($("#slider-visu-mission"),spee,{marginLeft:-e*unit-(total*unit+bigUnitDelta)/2-1+"px",ease:Linear.easeIn}),TweenMax.to($("#slider-txt-mission"),spee,{marginLeft:-(e+2)*$("#wrapper-slider-visu-mission").width()-1+"px",ease:Linear.easeIn}),makeActive(e+2)}function addEntityMission(){$("#slider-txt-mission li").eq($("#slider-txt-mission").find("li").length-total).clone().appendTo("#slider-txt-mission"),$("#slider-visu-mission li").eq($("#slider-visu-mission").find("li").length-total).clone().appendTo("#slider-visu-mission"),setSizeMission(),$("#slider-visu-mission li").eq($("#slider-visu-mission").find("li").length-1).find("a").unbind("click").on("click",clickOnMission)}function addEntityMissionAtBeginning(){$("#slider-txt-mission li").eq($("#slider-txt-mission").find("li").first().index()+4).clone().prependTo("#slider-txt-mission"),$("#slider-visu-mission li").eq($("#slider-visu-mission").find("li").first().index()+4).clone().prependTo("#slider-visu-mission"),posSlideMission(),$("#slider-visu-mission").first().find("a").unbind("click").on("click",clickOnMission)}function clickOnMission(e){e.preventDefault(),$(this).parent().index()>=$("#slider-visu-mission li").length-2&&(addEntityMission(),addEntityMission()),$(this).parent().index()<=1&&(addEntityMissionAtBeginning(),addEntityMissionAtBeginning()),slideMission($(this).parent().index()-2)}function nextMission(e){e.preventDefault(),addEntityMission(),slideMission($("#slider-visu-mission").find("li.active").index()-1)}function sliderMission(){var e=$("#slider-visu-mission");addEntityMission(),posSlideMission(),makeActive(numActive-1),$("#next-slider-mission").on("click",nextMission),isMobile.any&&e.on("swipeleft",nextMission),e.find("a").on("click",clickOnMission)}function goToContact(){htmlTag.hasClass("lt-ie9")?htmlBody.animate({scrollTop:$("#contact").offset().top},800,"easeInOutCubic"):(htmlBody.animate({scrollTop:$("#contact").offset().top-100},800,"easeInOutCubic"),setTimeout(openForm,500))}function setCarouselDots(e,t,i,n,s){function a(n){function a(n){var s=0,a=0;for(s;n>s;s++)t.eq(s).stop().animate({left:-(n-s)*i},500,"easeOutExpo");for(t.removeClass("on").eq(n).addClass("on").stop().animate({left:0},500,"easeOutExpo"),n;o>n;n++)t.eq(n).stop().animate({left:a*i},500,"easeOutExpo"),a++;e.parents("section").find(".dots").find("li").eq(e.find(".on").index()).find("button").addClass("actif").parents("li").siblings().find("button").removeClass("actif"),c.length&&c.removeClass("on").eq(e.find(".on").index()).addClass("on")}var l=e.find(".on");n===!0?l.next().length&&(n=l.next().index()):n===!1&&l.prev().length&&(n=l.prev().index()),s&&(f.removeClass("none"),h.removeClass("none"),0===n&&h.addClass("none"),n+1===o&&f.addClass("none")),a(n)}var o=t.length,l=0,r=0,d=0,c=e.parents("section").find(".keyword").find("strong"),h,f;if(o>1){if(!n){for(s&&(e.prepend('<button id="prev" class="navSlider icon-left none"></button>').append('<button id="next" class="navSlider icon-right"></button>'),h=e.find("#prev"),f=e.find("#next"),f.on("click",function(){a(!0)}),h.on("click",function(){a(!1)}),isMobile.any&&(e.on("swipeleft",function(){a(!0)}),e.on("swiperight",function(){a(!1)}))),e.parents(".wrapper-ecran").length?e.parents(".wrapper-ecran").after('<ul class="dots"></ul>'):e.append('<ul class="dots"></ul>'),l;o>l;l++)e.parents("section").find(".dots").append("<li><button>&bull;</button></li>");e.parents("section").find(".dots").find("button").on("click",function(){a($(this).parents("li").index())})}for(t.css({position:"absolute",top:0}).removeClass("on").eq(0).addClass("on"),r;o>r;r++)t.eq(r).css("left",d),d+=i;e.parents("section").find(".dots").find("button").removeClass("actif").parents("li").siblings().eq(0).find("button").addClass("actif"),c.length&&c.eq(0).addClass("on")}}function appartitionAnimsSliders(){$("#slider-anim-visez-juste").isOnScreen()&&!sliderAnim1Init&&(sliderAnim1Init=!0,animInitSliderAnim1())}function animInitSliderAnim1(){$(".slider-anim").length&&$(".slider-anim").parents("section").find(".keyword").find("strong").eq(0).addClass("on")}function sliderAnim1(){$("#next-slider-anim-visez-juste").on("click",function(){return TweenMax.isTweening($(".perso-gauche"))||TweenMax.isTweening($(".bulle-centre"))||TweenMax.isTweening($(".bulle-gauche1"))||TweenMax.isTweening($(".bulle-gauche2"))||TweenMax.isTweening($(".file-centre"))||TweenMax.isTweening($(".checkbox-centre"))||TweenMax.isTweening($(".fleche-centre"))||TweenMax.isTweening($(".perso-droite"))||(1==slideAnim1Active?(slideAnim1Active=2,TweenMax.set($("#prev-slider-anim-visez-juste"),{display:"block"}),$(this).parents("section").find(".keyword").find("strong").removeClass("on"),$(this).parents("section").find(".keyword").find("strong").eq(1).addClass("on"),TweenMax.staggerTo(".bulle-centre",.4,{y:"-50px",opacity:"0",ease:Cubic.easeOut},.1),TweenMax.to($(".bulle-gauche1"),.1,{y:"-50px",opacity:"0",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre"),{right:"initial",left:"0px"}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"0%",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-gauche"),{display:"none",delay:.5}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-droite"),{display:"block",delay:.5}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"100%",ease:Cubic.easeOut,delay:.5}),TweenMax.staggerTo(".file-centre",.8,{y:"0px",opacity:"1",ease:Cubic.easeOut,delay:.7},.2)):2==slideAnim1Active&&(slideAnim1Active=3,TweenMax.set($("#next-slider-anim-visez-juste"),{display:"none"}),$(this).parents("section").find(".keyword").find("strong").removeClass("on"),$(this).parents("section").find(".keyword").find("strong").eq(2).addClass("on"),TweenMax.staggerTo(".file-centre",.4,{y:"-50px",opacity:"0",ease:Cubic.easeOut},.1),TweenMax.set($(".container-fleche-centre .fleche-centre"),{left:"initial",right:"0px"}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"0%",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-droite"),{display:"none",delay:.5}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-gauche"),{display:"block",delay:.5}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"100%",ease:Cubic.easeOut,delay:.5}),TweenMax.staggerTo(".checkbox-centre",.8,{y:"0px",opacity:"1",ease:Cubic.easeOut,delay:.5},.2),TweenMax.to($(".bulle-gauche2"),.4,{y:"0px",opacity:"1",ease:Cubic.easeOut,delay:2}),TweenMax.to($(".checkbox-checked-centre"),.4,{opacity:"1",ease:Cubic.easeOut,delay:2.4}))),!1}),$("#prev-slider-anim-visez-juste").on("click",function(){return TweenMax.isTweening($(".perso-gauche"))||TweenMax.isTweening($(".bulle-centre"))||TweenMax.isTweening($(".bulle-gauche1"))||TweenMax.isTweening($(".bulle-gauche2"))||TweenMax.isTweening($(".file-centre"))||TweenMax.isTweening($(".checkbox-centre"))||TweenMax.isTweening($(".fleche-centre"))||TweenMax.isTweening($(".perso-droite"))||(2==slideAnim1Active?(slideAnim1Active=1,TweenMax.set($("#prev-slider-anim-visez-juste"),{display:"none"}),$(this).parents("section").find(".keyword").find("strong").removeClass("on"),$(this).parents("section").find(".keyword").find("strong").eq(0).addClass("on"),TweenMax.staggerTo(".file-centre",.4,{y:"-50px",opacity:"0",ease:Cubic.easeOut},.1),TweenMax.set($(".container-fleche-centre .fleche-centre"),{left:"initial",right:"0px"}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"0%",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-droite"),{display:"none",delay:.5}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-gauche"),{display:"block",delay:.5}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"100%",delay:.5,ease:Quint.easeOut}),TweenMax.staggerTo(".bulle-centre",.8,{y:"0px",opacity:"1",ease:Quint.easeOut,delay:1},.2),TweenMax.to($(".bulle-gauche1"),.4,{y:"0px",opacity:"1",delay:2,ease:Quint.easeOut})):3==slideAnim1Active&&(slideAnim1Active=2,TweenMax.set($("#next-slider-anim-visez-juste"),{display:"block"}),$(this).parents("section").find(".keyword").find("strong").removeClass("on"),$(this).parents("section").find(".keyword").find("strong").eq(1).addClass("on"),TweenMax.staggerTo(".checkbox-centre",.8,{y:"-50px",opacity:"0",ease:Cubic.easeOut},.2),TweenMax.to($(".bulle-gauche2"),.4,{y:"-50px",opacity:"0",ease:Cubic.easeOut}),TweenMax.to($(".checkbox-checked-centre"),.4,{opacity:"0",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre"),{left:"0px",right:"initial"}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"0%",ease:Cubic.easeOut}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-gauche"),{display:"none",delay:.5}),TweenMax.set($(".container-fleche-centre .fleche-centre .fleche-droite"),{display:"block",delay:.5}),TweenMax.to($(".container-fleche-centre .fleche-centre"),.5,{width:"100%",ease:Cubic.easeOut,delay:.5}),TweenMax.staggerTo(".file-centre",.8,{y:"0px",opacity:"1",ease:Cubic.easeOut,delay:.7},.2))),!1})}function openSearch(e){if(!($(window).width()>767))return!0;e.preventDefault();var t=$("#searchform"),i=$("#searchInput"),n=i.val(),s=n.length;i.on("blur",function(){t.hasClass("on")&&t.removeClass("on")}),0===s?t.addClass("on").find(i).focus():t.submit()}function responsiveMenuSuccess(){burger.hasClass("actif")||burger.css({opacity:0}).delay(10).animate({opacity:1},100),burger.toggleClass("actif"),header.toggleClass("menuVisible"),$("#fdMenu").fadeToggle(300),$("#container").toggleClass("openMenu"),$(window).width()<911&&$(".connectMenu").toggleClass("on")}function animateArrowsTrip(){function e(e,t,i){var n=Math.floor(e.offset().top-$(document).scrollTop()),s=n+e.height();n+e.height()/2>=t&&(e.hasClass("white")||e.addClass("white")),(s>=i||t>s)&&e.hasClass("white")&&e.removeClass("white")}var t=$("#nextTrip"),i=$("#prevTrip");if($(".trip-step.actif").find(".bgBlue").length){var n=$(".trip-step.actif").find(".bgBlue");if(t.length){var s=Math.floor(n.find(".before").offset().top-$(document).scrollTop()),a=s+n.innerHeight()+filterInt(n.css("margin-top").replace("px",""));$(".trip-step.actif").hasClass("even")&&(s=Math.floor(n.offset().top-$(document).scrollTop()),a=s+n.innerHeight()+filterInt(n.css("margin-bottom").replace("px",""))),e(t,s,a)}if(i.length){var s=Math.floor(n.offset().top-$(document).scrollTop()),a=s+n.innerHeight()+filterInt(n.css("margin-bottom").replace("px",""));$(".trip-step.actif").hasClass("even")&&(s=Math.floor(n.find(".before").offset().top-$(document).scrollTop()),a=s+n.innerHeight()+filterInt(n.css("margin-top").replace("px",""))),e(i,s,a)}}else t.removeClass("white"),i.removeClass("white");requestAnimFrame(animateArrowsTrip)}function wisemblyTrip(e){function t(e,t,i){function r(){function e(e,i,n,s,a){shapeDefault=filterInt(e.css(i).replace("px","")),e.isOnScreen()?(newCoord=shapeDefault,a?"left"==i?newCoord+="next"==t?s:-s:newCoord-="next"==t?s:-s:newCoord+=n>.5?s:-s,newCoord+="px"):a||(newCoord=""),e.css(i,newCoord)}var i=0,n,s,r=shuffle([0,1,2,3,4]);for(i;o>i;i++)n=25*Math.random()+5,s=Math.random(),s=s>.5?"-":"+",a[i].css({"border-bottom-color":l[r[i]],opacity:Math.random()+.3,transform:"rotate("+s+n+"deg)","-ms-transform":"rotate("+s+n+"deg)","-webkit-transform":"rotate("+s+n+"deg)"}),e(a[i],a[i].data("y"),Math.random(),Math.floor(20*Math.random())),e(a[i],a[i].data("x"),Math.random(),Math.floor(30*Math.random()+10),!0)}function c(){var e=0,i,n;for(e;d>e;e++)i=s.eq(e).data("left"),n="next"==t?i-100:i+100,s.eq(e).css("left",n+"%").data("left",n),s.eq(e).hasClass("actif")&&s.eq(e).removeClass("actif");r()}if(i&&1!=i){var h=0;for(h;i>h;h++)c()}else c();$(e).addClass("actif"),n.css("height",$(e).height());var p=$(".trip-step.actif").index(),m=s.eq(p).attr("id"),g=s.eq(p-1).attr("id"),b=s.eq(p+1).attr("id");u.find("li").eq(p).find("a").addClass("actif").parents("li").siblings().find("a").removeClass("actif"),p>0?f.find("#prevTrip").length?f.find("#prevTrip").attr("href","#"+g):f.find("li").eq(0).append("<a href='#"+g+"' id='prevTrip'><span>Previous step</span></a>"):f.find("li").eq(0).html(""),d-1>p?f.find("#nextTrip").length?f.find("#nextTrip").attr("href","#"+b):f.find("li").eq(1).append("<a href='#"+b+"' id='nextTrip'><span>Next step</span></a>"):f.find("li").eq(1).html("")}function i(){if(location.hash){var e=location.hash.replace("#",""),i="#trip"+e,n=$(i).index(),s=$(".trip-step.actif").index(),a=n-s;a>0&&t(i,"next",a),0>a&&t(i,"prev",Math.abs(a))}}var n=$("#trip"),s=$(".trip-step"),a=[$("#t1"),$("#t2"),$("#t3"),$("#t4")],o=a.length,l=["#46b489","#e25c5b","#06698d","#f7886c","#f1bc33"],r=l.length;if(e)n.height($(".trip-step.actif").height());else{var d=s.length,c=0,h=0,f=$("#navTrip"),u=$("#pagiTrip");for(c;d>c;c++)s.eq(c).css("left",h+"%").data("left",h),h+=100;n.css("height",s.eq(0).height()+30),i(),$(window).bind("popstate",function(e){i()}),n.css("opacity",1),f.on("click","#nextTrip",function(e){e.preventDefault(),Modernizr.history&&window.history.pushState(null,"",$(this).attr("href").replace("trip","")),t($(this).attr("href"),"next")}),f.on("click","#prevTrip",function(e){e.preventDefault(),Modernizr.history&&window.history.pushState(null,"",$(this).attr("href").replace("trip","")),t($(this).attr("href"),"prev")}),u.find("a").on("click",function(e){e.preventDefault();var i=$(this).attr("href"),n=$(i).index(),s=$(".trip-step.actif").index(),a=n-s;Modernizr.history&&window.history.pushState(null,"",$(this).attr("href").replace("trip","")),a>0&&t($(this).attr("href"),"next",a),0>a&&t($(this).attr("href"),"prev",Math.abs(a))})}}function setDraggableInputs(e,t,i,n){function s(e){f.eq(e).removeClass("noCheck").find("input").prop("checked",!0).change().parents("fieldset").siblings("fieldset").addClass("noCheck").find("input").prop("checked",!1).change()}var a=e.width()-10,o=5,l=a/t-3,r=t>2?2*(a/t)-5:a-15,d=t>3?3*(a/t)-5:a-15,c=a-15,h=[o,l,r,d,c],f=e.siblings("fieldset"),u="drag"+i,p=n.index();t>4&&(h=[o,l,r,d],t>3&&(h=[o,l,r])),e.append("<div id='"+u+"'></div>"),Draggable.create("#"+u,{type:"x",bounds:e,cursor:"pointer",throwProps:!0,snap:h,throwResistance:2e3,maxDuration:3,onThrowComplete:function(){switch(this.x){case h[0]:s(0);break;case h[1]:s(1);break;case h[2]:s(2);break;case h[3]:s(3);break;case h[4]:s(4)}}}),TweenLite.set($("#"+u),{x:h[p]}),s(p),f.on("click",function(){nb=$(this).index(),TweenLite.set($("#"+u),{x:h[nb]}),s(nb)})}function openVideos(e){function t(){i.html('<iframe id="videoIframe" width="860" height="480" src="'+e+'" frameborder="0" allowfullscreen></iframe>')}var i=$("#videoContainer"),n=$("#headVideo");htmlBody.animate({scrollTop:0},300,"easeInOutCubic"),n.hasClass("open")?i.find("#videoIframe").animate({opacity:0},300,function(){t()}):(n.removeClass("none"),n.append('<button id="closeVideo">&#xe619;</button>'),heightBgHead(i.outerHeight(!0)+480),n.animate({height:i.outerHeight(!0)+480},500,function(){t(),n.addClass("open")}))}function closeVideo(){var e=$("#videoContainer"),t=$("#headVideo");t.removeClass("open").animate({height:"30px"},400,function(){t.addClass("none")}),e.find("#videoIframe").animate({opacity:0},300,function(){e.find("#videoIframe").remove()}),$(this).animate({opacity:0},300,function(){$(this).remove(),heightBgHead(0)})}function setDraggableDebitButton(){function e(e,t,i,n){return i>e?n:i/t+" Mo"}function t(e,t){function i(e){e.addClass("actif").parents("li").siblings().find("div").removeClass()}0==e?t<=S[e]&&i(q.eq(e)):t>=S[e]&&i(q.eq(e))}function i(i){for(p.html(e(m,g,i,s)),b.html(e(v,w,i,s)),x.html(e(y,C,i,s)),T.html(e(M,k,i,s)),D=0;A>D;D++)t(D,i);o.html(i)}var n=$("#debitContainer"),s=n.data("txt"),a,o=$("#nbParticipants"),l=n.data("debitmax"),r=n.data("debit"),d,c,h,f=$("#drag"),u=$("#dragContainer"),p=$("#debitA"),m=p.data("compare"),g=p.data("divise"),b=$("#debitB"),v=b.data("compare"),w=b.data("divise"),x=$("#debitC"),y=x.data("compare"),C=x.data("divise"),T=$("#debitD"),M=T.data("compare"),k=T.data("divise"),q=$("#debitSteps").find("div"),S=[],A=q.length,D=0;for(c=u.width()-f.width(),D;A>D;D++)S[D]=q.eq(D).data("nb"),t(D,r);h=Draggable.create("#drag",{type:"x",bounds:u,cursor:"pointer",zIndexBoost:!1,onDrag:function(){TweenLite.set(o,{x:this.x}),d=Math.ceil(l/c*this.x),i(d)}}),a=r*c/l,TweenLite.set(f,{x:a}),TweenLite.set(o,{x:a}),h[0].update(),u.on("click",function(e){var t=Math.ceil(e.pageX-$(this).offset().left-f.width()/2),n;0>t&&(t=0),t>c&&(t=c),n=Math.ceil(l/c*t),TweenLite.set(f,{x:t}),TweenLite.set(o,{x:t}),i(n)})}function setActiveSuccessMenu(){var e=$("#menu"),t=e.find(".current-menu-item");t.length&&(t.length>1&&(t=e.find(".current-menu-item").eq(1),e.find(".current-menu-item").eq(0).removeClass()),t.siblings().find("a").addClass("notActive"),t.parents(".hasSubMenu").siblings().addClass("notActive"))}function openZendeskSearch(e,t){if(t||e.preventDefault(),""!=$("#searchZenInput").val()){if(t&&13==e.keyCode||!t){var i=$("#searchZen").attr("href")+"?query="+$("#searchZenInput").val();window.open(i,"_blank")}}else $("#searchZenInput").focus()}function stickyFooter(){var e=htmlTag.height(),t=$(window).height(),i=$("footer");i.hasClass("bottom")&&(e+=i.height(),e>=t&&i.removeClass("bottom")),t>e&&i.addClass("bottom")}var myScroll,body=$("body"),header=body.hasClass("success")?$("#header"):$("header"),htmlTag=$("html"),htmlBody=$("html, body"),burger=$("#burger"),bgHead=$("#bgHead"),btnContact=$("#demandeContact"),minHeight=$(".menu").innerHeight()-10,subMenus=$(".menu").find(".sub-menu"),avancementLeft=0,avancementLeftFuture=0,precWidth=0,hasDemiBefore=!1,avancementLeftBottom=0,scrollTop=$("#scrollTop"),blogWisemblyTop,btnTripColor=$(".navTrip").find("a").css("color");window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$.fn.isOnScreen=function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()},i=this.offset();return t.right=t.left+e.width(),t.bottom=t.top+e.height(),i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(t.right<i.left||t.left>i.right||t.bottom<i.top||t.top>i.bottom)},$.urlParam=function(e){var t=new RegExp("[?&]"+e+"=([^&#]*)").exec(window.location.href),i=null==t?null:t[1]||0;return i},filterInt=function(e){return/^(\-|\+)?([0-9]+|Infinity)$/.test(e)?Number(e):0};var joinAnEvent={$el:$("[data-name=join_an_event]"),keywordExists:!1,startListening:function(){this.$el.find("input").on("keyup",$.proxy(this.checkKeyword,this)),this.$el.on("submit",$.proxy(this.goTo,this))},checkKeyword:function(e){var t=this.$el.find("input").val().length;if(3>t||t>20)return 3>t?this.$el.attr("data-status","active"):(this.keywordExists=!1,void this.updateStatus());var i=$(e.currentTarget).val();this.getEvent(i).success($.proxy(function(){this.keywordExists=!0,this.updateStatus(),delete this.xhr},this)).fail($.proxy(function(e){this.keywordExists=404!==e.status,this.updateStatus(),delete this.xhr},this))},getEvent:function(e){return this.xhr&&this.xhr.abort(),this.xhr=$.ajax({url:"https://api.wisembly.com/api/4/event/"+e||"",
dataType:"json"})},goTo:function(e){e.preventDefault(),this.keywordExists&&(window.open("https://app.wisembly.com/"+this.$el.find("input").val()),dataLayer.push({keywordWiz:this.$el.find("input").val(),event:"wiz_search"}))},updateStatus:function(){this.$el.attr("data-status",this.keywordExists?"valid":"not-valid")}},tag=document.createElement("script"),player1;tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var unit=200,unitNaked=122,bigUnitDelta=338-unit,bigUnit=260,total=5,numActive=3,spee=.4,slideAnim1Active=1,slideAnim2Active=1,slideAnim3Active=1,sliderAnim1Init=!1;$(function(){if(isMobile.any||htmlTag.addClass("no-mobile"),body.hasClass("landing")||(body.hasClass("blog")||body.hasClass("success")||(setActiveMenu(),setSubMenu(),joinAnEvent.startListening()),"fr-FR"!==htmlTag.attr("lang")&&langSelector()),body.hasClass("success")&&(setActiveSuccessMenu(),isMobile.any&&stickyFooter()),$("#closeNews").on("click",function(){$("#news").animate({height:0,"padding-top":0,"padding-bottom":0},function(){$(this).css("display","none"),$.cookie("news",!0,{expires:7,path:"/"})})}),body.hasClass("blog")||(heightBgHead(),scrollPage()),body.hasClass("page-template-trip")&&(wisemblyTrip(),$(window).width()>1300&&animateArrowsTrip($(".trip-step.actif"))),$("#dragQ1").parents("form").one("click","fieldset",function(){setDraggableInputs($("#dragQ1"),3,1,$(this))}),$("#dragQ3").parents("form").one("click","fieldset",function(){setDraggableInputs($("#dragQ3"),2,3,$(this))}),$("#closePopBlog").on("click",function(){$("#popupBlog").animate({height:0},function(){$(this).css("display","none"),$.cookie("blog",!0,{expires:7,path:"/"})})}),$(".filtres").find(".actif").length&&goToContent(),$("#domainsClients").length){var e=$("#domainsClients").find("input[type=checkbox]"),t=e.length,i=0;for(i;t>i;i++)e.eq(i).prop("checked")&&console.log("yo")}if($("#map").length&&setMapSize(),$("#slider-visu-mission").length&&!htmlTag.hasClass("lt-ie9")&&sliderMission(),body.hasClass("page-template-emploi")&&initAnnonces(),$(window).width()>450&&!htmlTag.hasClass("lt-ie9")&&$(".buttonsTeam").length&&setDraggableButton(),$("#message").length&&$("#message").autoGrowTextArea(),$("#debitContainer").length&&($("#debitContainer").append("<div id='dragContainer'><div id='drag'></div></div>"),setDraggableDebitButton()),htmlTag.hasClass("lt-ie9")&&$("#event").length){var n=$("#event"),s=n.attr("placeholder");n.attr("value",s).on("click",function(){$(this).attr("value")===s&&$(this).attr("value","")})}body.hasClass("success")?burger.on("click",responsiveMenuSuccess):(burger.on("click",responsiveMenu),$("#triangleMenu").on("click",function(){burger.removeClass("actif"),header.removeClass("menuVisible"),$("#container").css({height:"auto",overflow:"visible"})})),$(".buttonsTeam").find("button").on("click",function(){setSliderTeamProfil($(this)),openForm()}),btnContact.on("click",openForm),$(".formContact").hasClass("open")&&openForm(),$(".form").hasClass("open")&&htmlBody.animate({scrollTop:$(".form").offset().top},800,"easeInOutCubic"),$("#contact-topbar").on("click",function(e){header.hasClass("menuVisible")&&responsiveMenu(),e.preventDefault(),goToContact()}),$(".home .blocH1").find(".btnFull").on("click",function(e){e.preventDefault(),htmlBody.animate({scrollTop:$("#contact").offset().top-100},800,"easeInOutCubic"),goToContact()}),$("#profil").change(function(){$("#labelEnt").html($(this).val()+" *")}),$(".scrollNext").on("click",goToNextSection),$("#btn-video").on("click",videoCover),scrollTop.length&&scrollTop.on("click",function(e){e.preventDefault(),htmlBody.animate({scrollTop:$("#top").offset().top},800,"easeInOutCubic")}),$("#slider-anim-visez-juste").length&&sliderAnim1(),$("#search").on("click",openSearch),$("#searchZenInput").on("keypress",function(e){openZendeskSearch(e,"keypress")}),$("#searchZen").on("click",function(e){openZendeskSearch(e)}),$("#goToCom").on("click",function(e){e.preventDefault(),htmlBody.animate({scrollTop:$("#comments").offset().top-100},800,"easeInOutCubic")}),$(".openVideo").on("click",function(e){htmlTag.hasClass("lt-ie9")||(e.preventDefault(),openVideos($(this).attr("href")))}),$("#headVideo").on("click","#closeVideo",closeVideo),$.urlParam("video")&&(htmlTag.hasClass("lt-ie9")?window.open($.urlParam("video"),"_blank"):openVideos($.urlParam("video"))),$.urlParam("slideshare")&&(htmlTag.hasClass("lt-ie9")?window.open($.urlParam("slideshare"),"_blank"):openVideos($.urlParam("slideshare"))),$(window).load(function(){if(body.hasClass("landing")||body.hasClass("blog")||body.hasClass("success")||(centerSubMenu(),scrollMagic()),body.hasClass("home")&&randomLogosPress(),$("#sliderRef").length&&!htmlTag.hasClass("lt-ie9")&&setToolTip($("#sliderRef")),$("#sliderTeam").length&&setSliderTeam($(".slidesTeam").eq(0)),$("#etudes").length&&!htmlTag.hasClass("lt-ie9")&&setToolTip($("#etudes")),$(".carousel").length&&(setSliderHeight($(".carousel")),$(".carousel").contentcarousel({sliderEasing:"easeOutExpo"})),$(".gallery").length&&(setSliderHeight($(".gallery")),$(".gallery").contentcarousel({sliderEasing:"easeOutExpo"})),$(".carouselDots").length){setSliderHeight($(".carouselDots"));var e=0,t=$(".carouselDots"),i=t.length;if(body.hasClass("blog"))for(e;i>e;e++)setCarouselDots(t.eq(e),t.eq(e).find("li"),t.eq(e).find("li").eq(0).width(),!1,!1);else for(e;i>e;e++)setCarouselDots(t.eq(e),t.eq(e).find("li"),t.eq(e).find("li").eq(0).width(),!1,!0)}if($("#slider-diapos").length&&positionDiapos(),body.hasClass("blog")){if($(".blogWisembly").length){var n=$(".blogWisembly");blogWisemblyTop=$(window).width()<1161?n.offset().top-20:n.offset().top-150}scrollPage();var s=$("#container").find(".wrapper");espaceFine(s.find("h2").find("a")),espaceFine(s.find("p")),espaceFine(s.find("h1"))}}),$(window).resize(function(){if(body.hasClass("landing")||body.hasClass("blog")||body.hasClass("success")||(minHeight=$(".menu").innerHeight()-10,fixedHeader(),setSubMenu(),centerSubMenu(),setPosBtnMenu()),body.hasClass("blog")?$(".blogWisembly").length&&(blogWisemblyTop=$(window).width()<1161?$(".blogWisembly").offset().top-20:$(".blogWisembly").offset().top-150):heightBgHead(),header.hasClass("menuVisible")&&$(window).width()>1040&&!body.hasClass("success")&&responsiveMenu(),body.hasClass("success")&&isMobile.any&&stickyFooter(),body.hasClass("page-template-trip")&&wisemblyTrip(!0),body.hasClass("page-template-installation")&&setDraggableDebitButton(),$("#map").length&&setMapSize(),$("#next-slider-mission").length&&posSlideMission(),$(".carousel").length&&setSliderHeight($(".carousel")),$(".gallery").length&&setSliderHeight($(".gallery")),$(".carouselDots").length){setSliderHeight($(".carouselDots"));var e=0,t=$(".carouselDots"),i=t.length;if(body.hasClass("blog"))for(e;i>e;e++)setCarouselDots(t.eq(e),t.eq(e).find("ul").eq(0).find("li"),t.eq(e).find("li").eq(0).width(),!0,!1);else for(e;i>e;e++)setCarouselDots(t.eq(e),t.eq(e).find("ul").eq(0).find("li"),t.eq(e).find("li").eq(0).width(),!0,!0)}})});