function shuffle(e){var t=e.map(Math.random);e.sort(function(e,i){return t[e]-t[i]})}function isValidEmail(e){var t=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i);return t.test(e)}function onYouTubeIframeAPIReady(){player1=new YT.Player("player-1")}function fixedHeader(){$(window).width()>1040&&!isMobile.any&&(myScroll>100?header.addClass("on"):header.removeClass("on"))}function apparitionFooter(){isMobile.any||($(".navFooter").isOnScreen()?TweenMax.set($(".rsFooter"),{visibility:"visible"}):TweenMax.set($(".rsFooter"),{visibility:"hidden"}))}function scrollPage(){myScroll=$(document).scrollTop(),body.hasClass("landing")||(fixedHeader(),apparitionFooter()),!htmlTag.hasClass("lt-ie9")&&!isMobile.any&&myScroll<$(".head").height()&&$(window).width()>767&&(TweenMax.set(bgHead,{y:-(myScroll/1.5)+"px"}),TweenMax.set($(".head").find(".content"),{y:+(myScroll/2.5)+"px"})),requestAnimFrame(scrollPage)}function setActiveMenu(){var e=$("#menu-menu-principal"),t=e.find("> li.current-menu-item"),i=e.find(".current_page_parent");t.length?t.siblings().find("a").addClass("notActive"):i.length?i.siblings().find("a").addClass("notActive"):e.find("a").removeClass("notActive")}function setSubMenu(){var e=$(".hasSubMenu");$(window).width()>1040?e.on("mouseover",function(){$(this).addClass("actifHover")}).on("mouseout",function(){$(this).removeClass("actifHover")}):e.unbind()}function centerSubMenu(){if(!htmlTag.hasClass("lt-ie9"))if($(window).width()>1040){var e=subMenus.length,t=0,i,n,o,s,a,l,r,d,c;for(t;e>t;t++){for(n=subMenus.eq(t).find("li"),o=n.length,i=0,s=0,i;o>i;i++)s+=n.eq(i).outerWidth();a=s/2,l=subMenus.eq(t).parents(".hasSubMenu"),r=l.outerWidth()/2,d=l.offset().left,c=r+d-a,s+c>=$(window).width()?subMenus.eq(t).css({"padding-left":0,"text-align":"center"}):subMenus.eq(t).css("padding-left",c+"px")}}else subMenus.css("padding-left",0)}function langSelector(){var e=$(".lang"),t=e.find(".actif");e.prepend(t).find(".actif").eq(1).remove()}function setPosBtnMenu(){var e=$(".bottomHeader").find(".btnFull"),t=$(".topHeader").find("p");$(window).width()<1040?(e.css("top",minHeight),t.css("top",minHeight+80)):(e.css("top",0),t.css("top",0))}function responsiveMenu(){var e=$(window).height()-header.height(),t=$("#container");setPosBtnMenu(),burger.hasClass("actif")?t.css({height:"auto",overflow:"visible"}):(burger.css({opacity:0}).delay(10).animate({opacity:1},100),t.height(e>minHeight?e:htmlTag.hasClass("home")?minHeight:minHeight+100),t.css("overflow","hidden")),burger.toggleClass("actif"),header.toggleClass("menuVisible")}function setSliderTeam(e){function t(){var e=$(this).parents("li").index();i.eq(e).hasClass("on")||($(this).addClass("actif").parents("li").siblings().find("button").removeClass("actif"),i.eq(e).siblings().stop().animate({opacity:0,marginBottom:"-25px"},400,function(){i.eq(e).addClass("on").stop().animate({opacity:1,marginBottom:0},400).siblings().removeClass("on")}))}var i=e.find(".slideTeam"),n=i.length,o=0,s=$(".navTeam"),a="<li><button>â€¢</button></li>",l=$(".slidesTeam"),r=l.length,d=0,c,u=Math.floor(Math.random()*n);for(d;r>d;d++)l.eq(d).hasClass("on")||l.eq(d).css({opacity:0,bottom:"-140px"});if(i.removeClass("on").eq(u).addClass("on").stop().animate({opacity:1,marginBottom:0},400),s.html(""),n>1)for(o;n>o;o++)s.append(a),i.eq(o).hasClass("on")?c=o:i.eq(o).css({opacity:0,marginBottom:"-25px"});s.find("button").eq(c).addClass("actif"),s.find("button").on("click",t)}function setSliderTeamProfil(e){var t=e.parents("li").index(),i=$(".slidesTeam"),n=i.eq(t),o=$(".contactFooter");e.addClass("actif").parents("li").siblings().find("button").removeClass(),n.hasClass("on")||(n.siblings(".slidesTeam").stop().animate({opacity:0,bottom:"-140px"},400,function(){n.addClass("on").stop().animate({opacity:1,bottom:"-115px"},400).siblings(".slidesTeam").removeClass("on"),0===t?(TweenLite.set($("#drag"),{x:0}),o.addClass("bleu").removeClass("rose").removeClass("rouge").removeClass("vert")):1===t?(TweenLite.set($("#drag"),{x:130}),o.addClass("rouge").removeClass("rose").removeClass("bleu").removeClass("vert")):2===t?(TweenLite.set($("#drag"),{x:235}),o.addClass("vert").removeClass("rose").removeClass("rouge").removeClass("bleu")):3===t&&(TweenLite.set($("#drag"),{x:334}),o.addClass("rose").removeClass("bleu").removeClass("rouge").removeClass("vert"))}),setSliderTeam(n)),$("#profil").find("option[value="+e.attr("name")+"]").prop("selected",!0);var s="Autre"===e.html()?"Organisation":e.html();$("#labelEnt").html(s+" *")}function setDraggableButton(){var e=$(".buttonsTeam").find("button");btnContact.before("<div id='dragIn'><div id='drag'></div></div>"),Draggable.create("#drag",{type:"x",bounds:$("#dragIn"),cursor:"pointer",throwProps:!0,snap:[0,130,235,334],throwResistance:5e3,maxDuration:3,onThrowComplete:function(){var t;0===this.x&&(t=e.eq(0)),130===this.x&&(t=e.eq(1)),235===this.x&&(t=e.eq(2)),334===this.x&&(t=e.eq(3)),setSliderTeamProfil(t)}})}function openForm(){btnContact.length?btnContact.animate({opacity:0},200,function(){btnContact.css("display","none"),$("#contact, #bulle").addClass("visible"),setTimeout(function(){htmlBody.animate({scrollTop:$("#contact").offset().top-250},400,"easeInOutCubic")},300),$("#nom").focus()}):setTimeout(function(){htmlBody.animate({scrollTop:$(".formContact").offset().top-200},500,"easeInOutCubic")},300)}function scrollMagic(){if($(window).width()>767)var e=new ScrollMagic,t=TweenMax.to($("#triangle-top-header"),1.2,{css:{y:"0px",rotation:"0deg",force3D:!0}}),i=TweenMax.to($(".triangle-menu-footer"),1.2,{css:{rotation:"-3deg",y:"0px",opacity:"1",force3D:!0}}),n=new ScrollScene({triggerElement:".menuFooter",duration:$(".menuFooter").outerHeight(),offset:-300}).setTween(i).addTo(e)}function goToNextSection(){htmlBody.animate({scrollTop:$(this).parents(".scrollHere").next(".scrollHere").offset().top-100},400)}function heightBgHead(){if($(window).width()>767){htmlTag.hasClass("lt-ie9")||isMobile.any||TweenMax.set(bgHead,{position:"fixed"});var e=Math.ceil($(".head").height())-1;TweenMax.set(bgHead,{height:e+"px"})}else htmlTag.hasClass("home")&&TweenMax.set(bgHead,{height:"340px"}),TweenMax.set(bgHead,{position:"absolute"})}function videoCover(){function e(){isMobile.phone||player1.playVideo()}var t=new TimelineMax({onComplete:e});return t.to($(".zone-txt-cover-video"),.2,{y:"100px",opacity:"0",ease:Cubic.easeInOut}).to($(".bg-cover-video"),.5,{rotationZ:1,rotation:"-45deg",y:"-100%",transformOrigin:"left bottom",ease:Cubic.easeInOut}).set($(".cover-video"),{display:"none"}),!1}function randomLogosPress(){var e=$(".logosPresse").find("li"),t=e.length,i=0,n=4,o=0,s=[];if(t>n){for(e.css("display","none"),o;t>o;o++)s[o]=o;for(shuffle(s),i;n>i;i++)e.eq(s[i]).css("display","inline-block")}}function goToContent(){setTimeout(function(){htmlBody.animate({scrollTop:$(".wrapper").offset().top-100},400)},400)}function setMapSize(){$("#map").height($(window).height()-header.height())}function setToolTip(e){var t=e.find("a"),i=t.length,n=0,o=[],s;if(""!==t.attr("title")){for(n;i>n;n++)o[n]=t.eq(n).attr("title"),t.eq(n).removeAttr("title").append("<span class='tooltip' style='display:none'>"+o[n]+"</span>");t.on("mouseenter",function(){$(this).find(".tooltip").delay(300).css("display","block")}).on("mouseleave",function(){setTimeout(function(){$(this).find(".tooltip").css("display","none")},300)}),t.on("mousemove",function(e){s=$(this).offset(),$(this).find(".tooltip").css({top:e.pageY-s.top+20,left:e.pageX-s.left-20})})}}function setSliderHeight(e){var t=e.find("li"),i=t.length,n=0,o=[],s=0,a;for(n;i>n;n++)o[n]=t.eq(n).find("div").length,o[n]>s&&(s=o[n],a=n);e.find("ul").css("height",t.eq(a).outerHeight())}function setSliderHeightLi(e){var t=e.find("li"),i=t.length,n=0,o=0;for(n;i>n;n++)t.eq(n).height()>o&&(o=t.eq(n).height());e.find("ul").css("height",o+"px")}function initAnnonces(){TweenMax.set($(".whr-item"),{display:"block"})}function positionDiapos(){$("#slider-diapos li").each(function(e){if($(this).hasClass("half"))if(0!==precWidth){var t=$(this).outerWidth();precWidth>=t?(TweenMax.set($(this),{top:"50%",left:avancementLeft+avancementLeftBottom+"px"}),precWidth-=t,hasDemiBefore=!0,avancementLeftBottom+=$(this).outerWidth()):(avancementLeft+=avancementLeftFuture,TweenMax.set($(this),{top:"0",left:avancementLeft+"px"}),avancementLeftFuture=$(this).outerWidth(),hasDemiBefore=!1,avancementLeftBottom=0)}else avancementLeft+=avancementLeftFuture,TweenMax.set($(this),{top:"0px",left:avancementLeft+"px"}),precWidth=$(this).outerWidth(),avancementLeftFuture=$(this).outerWidth(),hasDemiBefore=!1,avancementLeftBottom=0;else avancementLeft+=avancementLeftFuture,avancementLeftFuture=0,TweenMax.set($(this),{top:"0px",left:avancementLeft+"px"}),avancementLeft+=$(this).outerWidth(),hasDemiBefore=!1,avancementLeftBottom=0,precWidth=0,hasDemiBefore=!1}),TweenMax.set($("#slider-diapos"),{width:avancementLeft+avancementLeftFuture+"px"}),Draggable.create("#slider-diapos",{type:"x",edgeResistance:.65,bounds:"#container-slider-diapos",throwProps:!0})}function sliderMission(){$("#next-slider-mission").on("click",function(){$("ul#slider-visu-mission li").append($("ul#slider-visu-mission li").first()),TweenMax.to($("ul#slider-visu-mission li"),.1,{"margin-left":"-"+$("ul#slider-visu-mission li").width()+"px"})})}var myScroll,header=$("header"),htmlTag=$("html"),htmlBody=$("html, body"),body=$("body"),burger=$("#burger"),bgHead=$("#bgHead"),btnContact=$("#demandeContact"),minHeight=$(".menu").innerHeight()-10,subMenus=$(".menu").find(".sub-menu"),avancementLeft=0,avancementLeftFuture=0,precWidth=0,hasDemiBefore=!1,avancementLeftBottom=0,sliderSmall=!1;window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),$.fn.isOnScreen=function(){var e=$(window),t={top:e.scrollTop(),left:e.scrollLeft()},i=this.offset();return t.right=t.left+e.width(),t.bottom=t.top+e.height(),i.right=i.left+this.outerWidth(),i.bottom=i.top+this.outerHeight(),!(t.right<i.left||t.left>i.right||t.bottom<i.top||t.top>i.bottom)};var tag=document.createElement("script"),player1;tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$(function(){isMobile.any||htmlTag.addClass("no-mobile"),body.hasClass("landing")||(setActiveMenu(),"fr-FR"!==htmlTag.attr("lang")&&langSelector(),setSubMenu()),body.hasClass("page-template-emploi")&&(initAnnonces(),sliderSmall=$(window).width()>767?!1:!0),body.hasClass("page-template-mission-vision")&&sliderMission(),scrollPage(),$(".filtres").find(".actif").length&&goToContent(),$("#map").length&&setMapSize(),burger.on("click",responsiveMenu),$("#triangleMenu").on("click",function(){burger.removeClass("actif"),header.removeClass("menuVisible"),$("#container").css({height:"auto",overflow:"visible"})}),$(window).width()>450&&!htmlTag.hasClass("lt-ie9")&&$(".buttonsTeam").length&&setDraggableButton(),$(".buttonsTeam").find("button").on("click",function(){setSliderTeamProfil($(this))}),btnContact.on("click",openForm),$(".formContact").hasClass("open")&&openForm(),$(".bottomHeader").find(".btnFull").on("click",function(e){header.hasClass("menuVisible")&&responsiveMenu(),e.preventDefault(),htmlTag.hasClass("lt-ie9")?htmlBody.animate({scrollTop:$("#contactezNous").offset().top},800,"easeInOutCubic"):(htmlBody.animate({scrollTop:$("#contactezNous").offset().top-100},800,"easeInOutCubic"),setTimeout(openForm,500))}),$(".home .blocH1").find(".btnFull").on("click",function(e){e.preventDefault(),htmlBody.animate({scrollTop:$("#contactezNous").offset().top-100},800,"easeInOutCubic"),htmlTag.hasClass("lt-ie9")?htmlBody.animate({scrollTop:$("#contactezNous").offset().top},800,"easeInOutCubic"):(htmlBody.animate({scrollTop:$("#contactezNous").offset().top-100},800,"easeInOutCubic"),setTimeout(openForm,500))}),$("#profil").change(function(){$("#labelEnt").html($(this).val()+" *")}),$("#message").length&&$("#message").autoGrowTextArea(),$(".scrollNext").on("click",goToNextSection),$("#btn-video").on("click",videoCover),$(".form").hasClass("open")&&htmlBody.animate({scrollTop:$(".form").offset().top},800,"easeInOutCubic"),$(window).load(function(){heightBgHead(),body.hasClass("landing")||(centerSubMenu(),scrollMagic()),body.hasClass("home")&&randomLogosPress(),body.hasClass("page-template-emploi")&&positionDiapos(),$("#sliderRef").length&&(setToolTip($("#sliderRef")),$("#sliderRef").contentcarousel({sliderEasing:"easeOutExpo"})),$("#sliderTeam").length&&setSliderTeam($(".slidesTeam").eq(0)),$("#sliderBooks").length&&$("#sliderBooks").contentcarousel({sliderEasing:"easeOutExpo"}),$("#etudes").length&&setToolTip($("#etudes")),$("#sliderLogosConfiance").length&&(setSliderHeight($("#sliderLogosConfiance")),$("#sliderLogosConfiance").contentcarousel({sliderEasing:"easeOutExpo"})),$("#sliderTemoignages").length&&(setSliderHeight($("#sliderTemoignages")),$("#sliderTemoignages").contentcarousel({sliderEasing:"easeOutExpo"})),$("#sliderLogosAccueillis").length&&(setSliderHeight($("#sliderLogosAccueillis")),$("#sliderLogosAccueillis").contentcarousel({sliderEasing:"easeOutExpo"})),$("#slider-invite").length&&(setSliderHeightLi($("#slider-invite")),$("#slider-invite").contentcarousel({sliderEasing:"easeOutExpo"})),$("#slider-on-parle-de-nous").length&&(setSliderHeightLi($("#slider-on-parle-de-nous")),$("#slider-on-parle-de-nous").contentcarousel({sliderEasing:"easeOutExpo"}))}),$(window).resize(function(){heightBgHead(),body.hasClass("landing")||(minHeight=$(".menu").innerHeight()-10,fixedHeader(),setSubMenu(),centerSubMenu(),setPosBtnMenu()),header.hasClass("menuVisible")&&$(window).width()>1040&&responsiveMenu(),$("#map").length&&setMapSize(),$("#sliderTemoignages").length&&setSliderHeight($("#sliderTemoignages")),body.hasClass("emploi")&&(initAnnonces(),$(window).width()>767&&sliderSmall?(sliderSmall=!1,avancementLeft=0,avancementLeftFuture=0,precWidth=0,hasDemiBefore=!1,avancementLeftBottom=0,positionDiapos()):$(window).width()<767&&!sliderSmall&&(sliderSmall=!0,avancementLeft=0,avancementLeftFuture=0,precWidth=0,hasDemiBefore=!1,avancementLeftBottom=0,positionDiapos()))})});